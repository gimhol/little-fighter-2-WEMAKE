# 自定义游戏

[中文](README.MD) | [English](README.EN.MD)  

本质上来说，LFW实际上是一个动作游戏框架，它能“播放”游戏包的UI与内容，
这个框架兼容了LF2逻辑。

LFW还粗略的实现了一个大致能用UI框架。

但目前还没支持对应的编辑器……

## “自定义游戏包”

“自定义游戏包”本质是个 Zip 压缩包，这个 Zip 内部包含了（两个以上）多个 zip 文件与一个 index.json 文件

- index.json 内是一个路径字符串数组，指向“自定义游戏包”内的各个 Zip
- 首个Zip为 “prel.zip” （预加载数据）
- 其他Zip均为 “data.zip” （游戏数据）

举个例子：

将LFW的数据打包成“自定义游戏包” full.zip，内部目录结构可以是这样的：

``` plaintext
full.zip
  ├── data.zip
  ├── index.json
  └── prel.zip
```

然后 index.json 的内容

``` json
[
  "prel.zip",
  "data.zip"
]
```

## 为什么“自定义游戏包”要区分 prel.zip 与 data.zip

LFW设计为一个能在现代浏览器运行的网页游戏，核心资源都需要下载，并在下载后解压并处理。
下载后会缓存进行，不在需要处理，但资源读取与预处理仍需要时间。

以原始的LFW为例：

- 游戏会在“启动页”显示后立刻加载 prel.zip
- 在加载 prel.zip 后，才能进入“入口页”
- 在“入口页”中，点击“开始游戏”，才会加载 data.zip

这样做为了让玩家更快的看见东西。

prel.zip一般应该包含全部的UI页面以及相关的UI资源（声音图片等），
为了尽快看到游戏内界面，这个包的体积应该尽量小。

data.zip包含了角色/武器/地图/关卡等数据以及相关资源（声音图片等）,
体积会比较大。

为保持相同的逻辑，“自定义游戏包”也必须包含一个 prel.zip 与至少一个 data.zip

## 顺带一提

实际上，也可以全部都塞进prel.zip里，但这样用户就要盯着“启动页”好长一段时间了……
(prel.zip中，其实存在一个角色、一个关卡、一个地图，方便我来开发用)

## 如何生成自定义游戏包

TODO

## 如何使用自定义游戏包

TODO